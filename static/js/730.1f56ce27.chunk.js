"use strict";(self.webpackChunkcocoandeve_react=self.webpackChunkcocoandeve_react||[]).push([[730],{3239:function(e,t,r){r.d(t,{Yp:function(){return D}});var n,i,o=r(3433),s=r(5861),u=r(4942),c=r(3144),a=r(5671),l=r(7762),f=r(7757),h=r.n(f),d=r(2791),v=(r(184),Object.create),p=Object.defineProperty,m=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,b=(n=function(e,t){var n,i;n=e,i=function(e){var t,r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,i=2*n,o=new WeakMap,s=function(e,t){return function(o){var s=t.get(o),u=void 0===s?o.size:s<i?s+1:0;if(!o.has(u))return e(o,u);if(o.size<n){for(;o.has(u);)u=Math.floor(Math.random()*i);return e(o,u)}if(o.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(u);)u=Math.floor(Math.random()*r);return e(o,u)}}((t=o,function(e,r){return t.set(e,r),r}),o),u=function(e){return function(t){var r=e(t);return t.add(r),r}}(s);e.addUniqueNumber=u,e.generateUniqueNumber=s},"object"==typeof e&&typeof t<"u"?i(e):"function"==typeof define&&r.amdO?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).fastUniqueNumbers={})},function(){return i||n((i={exports:{}}).exports,i),i.exports});var k=function(e,t,r){return r=null!=e?v(y(e)):{},function(e,t,r,n){if(t&&"object"==typeof t||"function"==typeof t){var i,o=(0,l.Z)(g(t));try{var s=function(){var o=i.value;!w.call(e,o)&&o!==r&&p(e,o,{get:function(){return t[o]},enumerable:!(n=m(t,o))||n.enumerable})};for(o.s();!(i=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}}return e}(!t&&e&&e.__esModule?r:p(r,"default",{value:e,enumerable:!0}),e)}(b()),T=(function(e,t){var r=null}((function(e){var t=new Map([[0,function(){}]]),r=new Map([[0,function(){}]]),n=new Map,i=new Worker(e);return i.addEventListener("message",(function(e){var i=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(i)){var o=i.params,s=o.timerId,u=o.timerType;if("interval"===u){var c=t.get(s);if("number"==typeof c){var a=n.get(c);if(void 0===a||a.timerId!==s||a.timerType!==u)throw new Error("The timer is in an undefined state.")}else{if(!(typeof c<"u"))throw new Error("The timer is in an undefined state.");c()}}else if("timeout"===u){var l=r.get(s);if("number"==typeof l){var f=n.get(l);if(void 0===f||f.timerId!==s||f.timerType!==u)throw new Error("The timer is in an undefined state.")}else{if(!(typeof l<"u"))throw new Error("The timer is in an undefined state.");l(),r.delete(s)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(i)){var h=i.error.message;throw new Error(h)}var d=i.id,v=n.get(d);if(void 0===v)throw new Error("The timer is in an undefined state.");var p=v.timerId,m=v.timerType;n.delete(d),"interval"===m?t.delete(p):r.delete(p)}})),{clearInterval:function(e){var r=(0,k.generateUniqueNumber)(n);n.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=(0,k.generateUniqueNumber)(n);n.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e,r){var n=(0,k.generateUniqueNumber)(t);return t.set(n,(function(){e(),"function"==typeof t.get(n)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}}),n},setTimeout:function(e,t){var n=(0,k.generateUniqueNumber)(r);return r.set(n,e),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:n,timerType:"timeout"}}),n}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'),"object"==(typeof window>"u"?"undefined":typeof window)),E={setTimeout:T?setTimeout.bind(window):setTimeout,clearTimeout:T?clearTimeout.bind(window):clearTimeout,setInterval:T?setInterval.bind(window):setInterval,clearInterval:T?clearInterval.bind(window):clearInterval};var I={},M=function(){function e(t){(0,a.Z)(this,e),(0,u.Z)(this,"name",void 0),(0,u.Z)(this,"closed",!1),(0,u.Z)(this,"mc",new MessageChannel),this.name=t,I[t]=I[t]||[],I[t].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}return(0,c.Z)(e,[{key:"onStorage",value:function(e){if(e.storageArea===window.localStorage&&e.key.substring(0,this.name.length)===this.name&&null!==e.newValue){var t=JSON.parse(e.newValue);this.mc.port2.postMessage(t)}}},{key:"postMessage",value:function(e){var t=this;if(this.closed)throw new Error("InvalidStateError");var r=JSON.stringify(e),n="".concat(this.name,":").concat(String(Date.now())).concat(String(Math.random()));window.localStorage.setItem(n,r),E.setTimeout((function(){window.localStorage.removeItem(n)}),500),I[this.name].forEach((function(e){e!==t&&e.mc.port2.postMessage(JSON.parse(r))}))}},{key:"close",value:function(){if(!this.closed){this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);var e=I[this.name].indexOf(this);I[this.name].splice(e,1)}}},{key:"onmessage",get:function(){return this.mc.port1.onmessage},set:function(e){this.mc.port1.onmessage=e}},{key:"onmessageerror",get:function(){return this.mc.port1.onmessageerror},set:function(e){this.mc.port1.onmessageerror=e}},{key:"addEventListener",value:function(e,t){return this.mc.port1.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){return this.mc.port1.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){return this.mc.port1.dispatchEvent(e)}}]),e}(),L=typeof window>"u"?void 0:"function"==typeof window.BroadcastChannel?window.BroadcastChannel:M;function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return E.setTimeout(t,e)}))}function A(){return Math.random().toString(36).substring(2)}var O=function(){function e(t,r){(0,a.Z)(this,e),(0,u.Z)(this,"options",void 0),(0,u.Z)(this,"channel",void 0),(0,u.Z)(this,"token",A()),(0,u.Z)(this,"isLeader",!1),(0,u.Z)(this,"isDead",!1),(0,u.Z)(this,"isApplying",!1),(0,u.Z)(this,"reApply",!1),(0,u.Z)(this,"intervals",[]),(0,u.Z)(this,"listeners",[]),(0,u.Z)(this,"deferred",void 0),this.channel=t,this.options=r,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}return(0,c.Z)(e,[{key:"apply",value:function(){var e=(0,s.Z)(h().mark((function e(){var t,r,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader&&!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isApplying){e.next=4;break}return e.abrupt("return",(this.reApply=!0,!1));case 4:return this.isApplying=!0,t=!1,r=function(e){var r=e.data,i=r.token,o=r.action;i!==n.token&&(0===o&&i>n.token&&(t=!0),1===o&&(t=!0))},this.channel.addEventListener("message",r),e.prev=7,this.sendAction(0),e.next=11,Z(this.options.responseTime);case 11:return this.channel.removeEventListener("message",r),this.isApplying=!1,e.abrupt("return",t?!!this.reApply&&this.apply():(this.assumeLead(),!0));case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,this,[[7,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"awaitLeadership",value:function(){var e=this;if(this.isLeader)return Promise.resolve();var t=!1,r=null;return new Promise((function(n){var i=function(){if(!t){t=!0;try{E.clearInterval(r)}catch(s){}var i=e.intervals.indexOf(r);i>=0&&e.intervals.splice(i,1),e.channel.removeEventListener("message",o),n()}};r=E.setInterval((function(){e.apply().then((function(){e.isLeader&&i()}))}),e.options.fallbackInterval),e.intervals.push(r);var o=function(t){2===t.data.action&&e.apply().then((function(){e.isLeader&&i()}))};e.channel.addEventListener("message",o)}))}},{key:"sendAction",value:function(e){this.channel.postMessage({action:e,token:this.token})}},{key:"assumeLead",value:function(){var e=this;this.isLeader=!0;var t=function(t){0===t.data.action&&e.sendAction(1)};return this.channel.addEventListener("message",t),this.listeners.push(t),this.sendAction(1)}},{key:"waitForLeadership",value:function(){return this.deferred||(this.deferred=this.awaitLeadership()),this.deferred}},{key:"close",value:function(){var e=this;if(!this.isDead){this.isDead=!0,this.isLeader=!1,this.sendAction(2);try{this.listeners.forEach((function(t){return e.channel.removeEventListener("message",t)})),this.intervals.forEach((function(e){return E.clearInterval(e)}))}catch(t){}}}}]),e}(),R=function(){function e(t){var r=this;(0,a.Z)(this,e),(0,u.Z)(this,"channel",void 0),(0,u.Z)(this,"options",void 0),(0,u.Z)(this,"elector",void 0),(0,u.Z)(this,"token",A()),(0,u.Z)(this,"registry",new Map),(0,u.Z)(this,"allIdle",!1),(0,u.Z)(this,"isLastActive",!1);var n=t.channelName;if(this.options=t,this.channel=new L(n),this.registry.set(this.token,1),t.leaderElection){this.elector=new O(this.channel,{fallbackInterval:2e3,responseTime:100}),this.elector.waitForLeadership()}this.channel.addEventListener("message",(function(e){var t=e.data,n=t.action,i=t.token,o=t.data;switch(n){case 3:r.registry.set(i,2);break;case 4:r.registry.delete(i);break;case 5:r.idle(i);break;case 6:r.active(i);break;case 7:r.prompt(i);break;case 8:r.start(i);break;case 9:r.reset(i);break;case 10:r.activate(i);break;case 11:r.pause(i);break;case 12:r.resume(i);break;case 13:r.options.onMessage(o)}})),this.send(3)}return(0,c.Z)(e,[{key:"isLeader",get:function(){if(!this.elector)throw new Error('\u274c Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}},{key:"prompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,0);var t=(0,o.Z)(this.registry.values()).every((function(e){return 0===e}));e===this.token&&this.send(7),t&&this.options.onPrompt()}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,2);var t=(0,o.Z)(this.registry.values()).every((function(e){return 2===e}));e===this.token&&this.send(5),!this.allIdle&&t&&(this.allIdle=!0,this.options.onIdle())}},{key:"active",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1);var t=(0,o.Z)(this.registry.values()).some((function(e){return 1===e}));e===this.token&&this.send(6),t&&this.options.onActive(),this.isLastActive=e===this.token}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(8):this.options.start(!0),this.isLastActive=e===this.token}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(9):this.options.reset(!0),this.isLastActive=e===this.token}},{key:"activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(10):this.options.activate(!0),this.isLastActive=e===this.token}},{key:"pause",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token)===this.token?this.send(11):this.options.pause(!0)}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token)===this.token?this.send(12):this.options.resume(!0)}},{key:"message",value:function(e){try{this.channel.postMessage({action:13,token:this.token,data:e})}catch(t){}}},{key:"send",value:function(e){try{this.channel.postMessage({action:e,token:this.token})}catch(t){}}},{key:"close",value:function(){this.options.leaderElection&&this.elector.close(),this.send(4),this.channel.close()}}]),e}(),C=T?document:null,S=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange","focus"];function P(e,t){var r=0;return function(){var n=(new Date).getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}var x=function(){return Date.now()},N=2147483647;function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,r=void 0===t?12e5:t,n=e.promptTimeout,i=void 0===n?0:n,s=e.promptBeforeIdle,u=void 0===s?0:s,c=e.element,a=void 0===c?C:c,l=e.events,f=void 0===l?S:l,h=e.timers,v=void 0===h?void 0:h,p=e.immediateEvents,m=void 0===p?[]:p,g=e.onPresenceChange,y=void 0===g?function(){}:g,w=e.onPrompt,b=void 0===w?function(){}:w,k=e.onIdle,I=void 0===k?function(){}:k,M=e.onActive,L=void 0===M?function(){}:M,Z=e.onAction,A=void 0===Z?function(){}:Z,O=e.onMessage,D=void 0===O?function(){}:O,j=e.debounce,q=void 0===j?0:j,B=e.throttle,_=void 0===B?0:B,U=e.eventsThrottle,J=void 0===U?200:U,F=e.startOnMount,z=void 0===F||F,G=e.startManually,V=void 0!==G&&G,W=e.stopOnIdle,X=void 0!==W&&W,Y=e.crossTab,H=void 0!==Y&&Y,K=e.name,Q=void 0===K?"idle-timer":K,$=e.syncTimers,ee=void 0===$?0:$,te=e.leaderElection,re=void 0!==te&&te,ne=e.disabled,ie=void 0!==ne&&ne,oe=(0,d.useRef)(x()),se=(0,d.useRef)(x()),ue=(0,d.useRef)(null),ce=(0,d.useRef)(null),ae=(0,d.useRef)(0),le=(0,d.useRef)(0),fe=(0,d.useRef)(0),he=(0,d.useRef)(0),de=(0,d.useRef)(!1),ve=(0,d.useRef)(!1),pe=(0,d.useRef)(!1),me=(0,d.useRef)(!0),ge=(0,d.useRef)(!1),ye=(0,d.useRef)(null),we=(0,d.useRef)(null),be=(0,d.useRef)(r),ke=(0,d.useRef)(0);(0,d.useEffect)((function(){if(i&&console.warn("\u26a0\ufe0f IdleTimer -- The `promptTimeout` property has been deprecated in favor of `promptBeforeIdle`. It will be removed in the next major release."),u&&i)throw new Error("\u274c Both promptTimeout and promptBeforeIdle can not be set. The promptTimeout property will be deprecated in a future version.");if(r>=N)throw new Error("\u274c The value for the timeout property must fit in a 32 bit signed integer, ".concat(N,"."));if(i>=N)throw new Error("\u274c The value for the promptTimeout property must fit in a 32 bit signed integer, ".concat(N,"."));if(u>=N)throw new Error("\u274c The value for the promptBeforeIdle property must fit in a 32 bit signed integer, ".concat(N,"."));if(u>=r)throw new Error("\u274c The value for the promptBeforeIdle property must be less than the timeout property, ".concat(r,"."));if(u?(be.current=r-u,ke.current=u):(be.current=r,ke.current=i),!me.current){if(V||ie)return;de.current&&(Re.current(null,ft),we.current&&we.current.active()),Ge()}}),[r,i,u,V,ie]);var Te=(0,d.useRef)(X);(0,d.useEffect)((function(){Te.current=X}),[X]);var Ee=(0,d.useRef)(m),Ie=(0,d.useRef)(a),Me=(0,d.useRef)((0,o.Z)(new Set([].concat((0,o.Z)(f),(0,o.Z)(m))).values())),Le=(0,d.useRef)(ie);(0,d.useEffect)((function(){Le.current=ie,!me.current&&(ie?Xe():V||Ge())}),[ie]);var Ze=(0,d.useRef)(y);(0,d.useEffect)((function(){Ze.current=y}),[y]);var Ae=(0,d.useRef)(b);(0,d.useEffect)((function(){Ae.current=b}),[b]);var Oe=(0,d.useRef)(I);(0,d.useEffect)((function(){Oe.current=I}),[I]);var Re=(0,d.useRef)(L);(0,d.useEffect)((function(){Re.current=L}),[L]);var Ce=(0,d.useRef)(A);(0,d.useEffect)((function(){Ce.current=A}),[A]);var Se=(0,d.useRef)(D);(0,d.useEffect)((function(){Se.current=D}),[D]);var Pe=(0,d.useMemo)((function(){var e=function(e,t){return Ce.current(e,t)};return q>0?function(e,t){var r;function n(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout((function(){e.apply(void 0,i),r=null}),t)}return n.cancel=function(){clearTimeout(r)},n}(e,q):_>0?P(e,_):e}),[_,q]),xe=(0,d.useRef)();(0,d.useEffect)((function(){H&&ee&&(xe.current=P((function(){we.current.active()}),ee))}),[H,ee]);var Ne=function(){null!==ye.current&&(E.clearTimeout(ye.current),ye.current=null)},De=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ne(),ye.current=E.setTimeout(_e,e||be.current),t&&(ce.current=x())},je=function(e){!ve.current&&!de.current&&(Ae.current(e,ft),Ze.current({type:"active",prompted:!0},ft)),he.current=0,fe.current=x(),ve.current=!0,De(ke.current,!1)},qe=function(){Ne(),de.current||(Oe.current(null,ft),Ze.current({type:"idle"},ft)),de.current=!0,ue.current=x(),Te.current?ze():ve.current&&(fe.current=0,ve.current=!1)},Be=function(e){Ne(),(de.current||ve.current)&&(Re.current(e,ft),Ze.current({type:"active",prompted:!1},ft)),ve.current=!1,fe.current=0,de.current=!1,ae.current+=x()-ue.current,le.current+=x()-ue.current,Fe(),De()},_e=function(e){if(!de.current){Pe.cancel&&Pe.cancel();var t=x()-ce.current;return be.current+ke.current<t||!(ke.current>0)||ve.current?void(we.current?we.current.idle():qe()):void(we.current?we.current.prompt():je(e))}we.current?we.current.active():Be(e)},Ue=function(e){if(!z&&!ce.current&&(ce.current=x(),Re.current(null,ft)),Pe(e,ft),!ve.current)if(Ne(),de.current||!Ee.current.includes(e.type)){var t=x()-ce.current;de.current&&!X||!de.current&&t>=be.current?_e(e):(pe.current=!1,he.current=0,fe.current=0,De(),H&&ee&&xe.current())}else _e(e)},Je=(0,d.useRef)(Ue);(0,d.useEffect)((function(){var e=ge.current;e&&ze(),Je.current=J>0?P(Ue,J):Ue,e&&Fe()}),[J,_,q,Ce,H,ee]);var Fe=function(){T&&Ie.current&&(ge.current||(Me.current.forEach((function(e){Ie.current.addEventListener(e,Je.current,{capture:!0,passive:!0})})),ge.current=!0))},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T&&Ie.current&&(ge.current||e)&&(Me.current.forEach((function(e){Ie.current.removeEventListener(e,Je.current,{capture:!0})})),ge.current=!1)},Ge=(0,d.useCallback)((function(e){return!Le.current&&(Ne(),Fe(),de.current=!1,ve.current=!1,pe.current=!1,he.current=0,fe.current=0,we.current&&!e&&we.current.start(),De(),!0)}),[ye,de,Le,be,we]),Ve=(0,d.useCallback)((function(e){return!Le.current&&(Ne(),Fe(),se.current=x(),ae.current+=x()-ue.current,le.current+=x()-ue.current,ae.current=0,de.current=!1,ve.current=!1,pe.current=!1,he.current=0,fe.current=0,we.current&&!e&&we.current.reset(),V||De(),!0)}),[ye,de,be,V,Le,we]),We=(0,d.useCallback)((function(e){return!Le.current&&(Ne(),Fe(),(de.current||ve.current)&&Be(),de.current=!1,ve.current=!1,pe.current=!1,he.current=0,fe.current=0,se.current=x(),we.current&&!e&&we.current.activate(),De(),!0)}),[ye,de,ve,Le,be,we]),Xe=(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!Le.current&&!pe.current&&(he.current=rt(),pe.current=!0,ze(),Ne(),we.current&&!e&&we.current.pause(),!0)}),[ye,Le,we]),Ye=(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(Le.current||!pe.current)&&(pe.current=!1,ve.current||Fe(),de.current||De(he.current),fe.current&&(fe.current=x()),we.current&&!e&&we.current.resume(),!0)}),[ye,be,Le,he,we]),He=(0,d.useCallback)((function(e,t){return we.current?(t&&Se.current(e,ft),we.current.message(e)):t&&Se.current(e,ft),!0}),[D]),Ke=(0,d.useCallback)((function(){return de.current}),[de]),Qe=(0,d.useCallback)((function(){return ve.current}),[ve]),$e=(0,d.useCallback)((function(){return we.current?we.current.isLeader:null}),[we]),et=(0,d.useCallback)((function(){return we.current?we.current.isLastActive:null}),[we]),tt=(0,d.useCallback)((function(){return we.current?we.current.token:null}),[we]),rt=(0,d.useCallback)((function(){if(pe.current)return he.current;var e=he.current?he.current:ke.current+be.current,t=ce.current?x()-ce.current:0,r=Math.floor(e-t);return r<0?0:Math.abs(r)}),[be,ke,ve,he,ce]),nt=(0,d.useCallback)((function(){return Math.round(x()-se.current)}),[se]),it=(0,d.useCallback)((function(){return Math.round(x()-oe.current)}),[oe]),ot=(0,d.useCallback)((function(){return ue.current?new Date(ue.current):null}),[ue]),st=(0,d.useCallback)((function(){return ce.current?new Date(ce.current):null}),[ce]),ut=(0,d.useCallback)((function(){return de.current?Math.round(x()-ue.current+ae.current):Math.round(ae.current)}),[ue,ae]),ct=(0,d.useCallback)((function(){return de.current?Math.round(x()-ue.current+le.current):Math.round(le.current)}),[ue,le]),at=(0,d.useCallback)((function(){var e=Math.round(nt()-ut());return e>=0?e:0}),[ue,ae]),lt=(0,d.useCallback)((function(){var e=Math.round(it()-ct());return e>=0?e:0}),[ue,ae]);(0,d.useEffect)((function(){if(q>0&&_>0)throw new Error("\u274c onAction can either be throttled or debounced, not both.");v&&function(e){E.setTimeout=e.setTimeout,E.clearTimeout=e.clearTimeout,E.setInterval=e.setInterval,E.clearInterval=e.clearInterval}(v);var e=function(){we.current&&we.current.close(),Pe.cancel&&Pe.cancel(),Ne(),ze(!0)};return T&&window.addEventListener("beforeunload",e),function(){T&&window.removeEventListener("beforeunload",e),we.current&&we.current.close(),Pe.cancel&&Pe.cancel(),Ne(),ze(!0)}}),[]),(0,d.useEffect)((function(){we.current&&we.current.close(),we.current=H?new R({channelName:Q,leaderElection:re,onPrompt:function(){je()},onIdle:function(){qe()},onActive:function(){Be()},onMessage:function(e){Se.current(e,ft)},start:Ge,reset:Ve,activate:We,pause:Xe,resume:Ye}):null}),[H,Q,re,Ae,Oe,Re,Se,Ge,Ve,Xe,Ye]),(0,d.useEffect)((function(){me.current||(Ne(),ze(!0)),!V&&!ie&&(z?Ge():Fe())}),[V,z,ie,me]),(0,d.useEffect)((function(){if(!me.current){var e=(0,o.Z)(new Set([].concat((0,o.Z)(f),(0,o.Z)(m))).values());if(ze(),Me.current=e,Ie.current=a,Ee.current=m,V||ie)return;z?Ge():Fe()}}),[a,JSON.stringify(f),JSON.stringify(m),me,ie,V,z]),(0,d.useEffect)((function(){me.current&&(me.current=!1)}),[me]);var ft={message:He,start:Ge,reset:Ve,activate:We,pause:Xe,resume:Ye,isIdle:Ke,isPrompted:Qe,isLeader:$e,isLastActiveTab:et,getTabId:tt,getRemainingTime:rt,getElapsedTime:nt,getTotalElapsedTime:it,getLastIdleTime:ot,getLastActiveTime:st,getIdleTime:ut,getTotalIdleTime:ct,getActiveTime:at,getTotalActiveTime:lt,setOnPresenceChange:function(e){y=e,Ze.current=e},setOnPrompt:function(e){b=e,Ae.current=e},setOnIdle:function(e){I=e,Oe.current=e},setOnActive:function(e){L=e,Re.current=e},setOnAction:function(e){A=e,Ce.current=e},setOnMessage:function(e){D=e,Se.current=e}};return ft}var j=(0,d.createContext)(null);j.Consumer},5861:function(e,t,r){function n(e,t,r,n,i,o,s){try{var u=e[o](s),c=u.value}catch(a){return void r(a)}u.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function u(e){n(s,i,o,u,c,"next",e)}function c(e){n(s,i,o,u,c,"throw",e)}u(void 0)}))}}r.d(t,{Z:function(){return i}})},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=730.1f56ce27.chunk.js.map