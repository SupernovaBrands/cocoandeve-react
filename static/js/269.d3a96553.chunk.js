"use strict";(self.webpackChunkcocoandeve_react=self.webpackChunkcocoandeve_react||[]).push([[269],{7638:function(e,t,r){r.d(t,{Yp:function(){return Y}});var n,i,o=r(2982),u=r(5861),s=r(3144),a=r(5671),c=r(136),l=r(9388),f=r(7762),d=r(7757),h=r.n(d),v=r(7313),p=Object.create,m=Object.defineProperty,E=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,T=(n=function(e,t){var n,i;n=e,i=function(e){var t,r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,i=2*n,o=new WeakMap,u=function(e,t){return function(o){var u=t.get(o),s=void 0===u?o.size:u<i?u+1:0;if(!o.has(s))return e(o,s);if(o.size<n){for(;o.has(s);)s=Math.floor(Math.random()*i);return e(o,s)}if(o.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(s);)s=Math.floor(Math.random()*r);return e(o,s)}}((t=o,function(e,r){return t.set(e,r),r}),o),s=function(e){return function(t){var r=e(t);return t.add(r),r}}(u);e.addUniqueNumber=s,e.generateUniqueNumber=u,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof e&&"undefined"!=typeof t?i(e):"function"==typeof define&&r.amdO?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).fastUniqueNumbers={})},function(){return i||n((i={exports:{}}).exports,i),i.exports});v.Component;var b=function(e){return function(e,t,r){if(t&&"object"==typeof t||"function"==typeof t){var n,i=(0,f.Z)(g(t));try{var o=function(){var i=n.value;!w.call(e,i)&&"default"!==i&&m(e,i,{get:function(){return t[i]},enumerable:!(r=E(t,i))||r.enumerable})};for(i.s();!(n=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}}return e}(function(e){return m(e,"__esModule",{value:!0})}(m(null!=e?p(y(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)}(T()),k=null,I=(function(e,t){}((function(e){var t=new Map([[0,function(){}]]),r=new Map([[0,function(){}]]),n=new Map,i=new Worker(e);return i.addEventListener("message",(function(e){var i=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(i)){var o=i.params,u=o.timerId,s=o.timerType;if("interval"===s){var a=t.get(u);if("number"==typeof a){var c=n.get(a);if(void 0===c||c.timerId!==u||c.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if("undefined"==typeof a)throw new Error("The timer is in an undefined state.");a()}}else if("timeout"===s){var l=r.get(u);if("number"==typeof l){var f=n.get(l);if(void 0===f||f.timerId!==u||f.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if("undefined"==typeof l)throw new Error("The timer is in an undefined state.");l(),r.delete(u)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(i)){var d=i.error.message;throw new Error(d)}var h=i.id,v=n.get(h);if(void 0===v)throw new Error("The timer is in an undefined state.");var p=v.timerId,m=v.timerType;n.delete(h),"interval"===m?t.delete(p):r.delete(p)}})),{clearInterval:function(e){var r=(0,b.generateUniqueNumber)(n);n.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=(0,b.generateUniqueNumber)(n);n.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e,r){var n=(0,b.generateUniqueNumber)(t);return t.set(n,(function(){e(),"function"==typeof t.get(n)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}}),n},setTimeout:function(e,t){var n=(0,b.generateUniqueNumber)(r);return r.set(n,e),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:n,timerType:"timeout"}}),n}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'),"object"==("undefined"==typeof window?"undefined":typeof window)),L={setTimeout:I?setTimeout.bind(window):setTimeout,clearTimeout:I?clearTimeout.bind(window):clearTimeout,setInterval:I?setInterval.bind(window):setInterval,clearInterval:I?clearInterval.bind(window):clearInterval};function M(e){L.setTimeout=e.setTimeout,L.clearTimeout=e.clearTimeout,L.setInterval=e.setInterval,L.clearInterval=e.clearInterval}var A,R,S={},P=function(){function e(t){(0,a.Z)(this,e),this.closed=!1,this.mc=new MessageChannel,this.name=t,S[t]=S[t]||[],S[t].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}return(0,s.Z)(e,[{key:"onStorage",value:function(e){if(e.storageArea===window.localStorage&&e.key.substring(0,this.name.length)===this.name&&null!==e.newValue){var t=JSON.parse(e.newValue);this.mc.port2.postMessage(t)}}},{key:"postMessage",value:function(e){var t=this;if(this.closed)throw new Error("InvalidStateError");var r=JSON.stringify(e),n="".concat(this.name,":").concat(String(Date.now())).concat(String(Math.random()));window.localStorage.setItem(n,r),L.setTimeout((function(){window.localStorage.removeItem(n)}),500),S[this.name].forEach((function(e){e!==t&&e.mc.port2.postMessage(JSON.parse(r))}))}},{key:"close",value:function(){if(!this.closed){this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);var e=S[this.name].indexOf(this);S[this.name].splice(e,1)}}},{key:"onmessage",get:function(){return this.mc.port1.onmessage},set:function(e){this.mc.port1.onmessage=e}},{key:"onmessageerror",get:function(){return this.mc.port1.onmessageerror},set:function(e){this.mc.port1.onmessageerror=e}},{key:"addEventListener",value:function(e,t){return this.mc.port1.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){return this.mc.port1.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){return this.mc.port1.dispatchEvent(e)}}]),e}(),O="undefined"==typeof window?void 0:"function"==typeof window.BroadcastChannel?window.BroadcastChannel:P;function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return L.setTimeout(t,e)}))}function D(){return Math.random().toString(36).substring(2)}(R=A||(A={}))[R.APPLY=0]="APPLY",R[R.TELL=1]="TELL",R[R.CLOSE=2]="CLOSE",R[R.REGISTER=3]="REGISTER",R[R.DEREGISTER=4]="DEREGISTER",R[R.IDLE=5]="IDLE",R[R.ACTIVE=6]="ACTIVE",R[R.PROMPT=7]="PROMPT",R[R.START=8]="START",R[R.RESET=9]="RESET",R[R.ACTIVATE=10]="ACTIVATE",R[R.PAUSE=11]="PAUSE",R[R.RESUME=12]="RESUME",R[R.MESSAGE=13]="MESSAGE";var x,N,Z=function(){function e(t,r){(0,a.Z)(this,e),this.token=D(),this.isLeader=!1,this.isDead=!1,this.isApplying=!1,this.reApply=!1,this.intervals=[],this.listeners=[],this.channel=t,this.options=r,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}return(0,s.Z)(e,[{key:"apply",value:function(){var e=(0,u.Z)(h().mark((function e(){var t,r,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader&&!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isApplying){e.next=4;break}return e.abrupt("return",(this.reApply=!0,!1));case 4:return this.isApplying=!0,t=!1,r=function(e){var r=e.data,i=r.token,o=r.action;i!==n.token&&(o===A.APPLY&&i>n.token&&(t=!0),o===A.TELL&&(t=!0))},this.channel.addEventListener("message",r),e.prev=7,this.sendAction(A.APPLY),e.next=11,C(this.options.responseTime);case 11:return this.channel.removeEventListener("message",r),this.isApplying=!1,e.abrupt("return",t?!!this.reApply&&this.apply():(this.assumeLead(),!0));case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,this,[[7,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"awaitLeadership",value:function(){var e=this;if(this.isLeader)return Promise.resolve();var t=!1,r=null;return new Promise((function(n){var i=function(){if(!t){t=!0;try{L.clearInterval(r)}catch(u){}var i=e.intervals.indexOf(r);i>=0&&e.intervals.splice(i,1),e.channel.removeEventListener("message",o),n()}};r=L.setInterval((function(){e.apply().then((function(){e.isLeader&&i()}))}),e.options.fallbackInterval),e.intervals.push(r);var o=function(t){t.data.action===A.CLOSE&&e.apply().then((function(){e.isLeader&&i()}))};e.channel.addEventListener("message",o)}))}},{key:"sendAction",value:function(e){this.channel.postMessage({action:e,token:this.token})}},{key:"assumeLead",value:function(){var e=this;this.isLeader=!0;var t=function(t){t.data.action===A.APPLY&&e.sendAction(A.TELL)};return this.channel.addEventListener("message",t),this.listeners.push(t),this.sendAction(A.TELL)}},{key:"waitForLeadership",value:function(){return this.deferred||(this.deferred=this.awaitLeadership()),this.deferred}},{key:"close",value:function(){var e=this;if(!this.isDead){this.isDead=!0,this.isLeader=!1,this.sendAction(A.CLOSE);try{this.listeners.forEach((function(t){return e.channel.removeEventListener("message",t)})),this.intervals.forEach((function(e){return L.clearInterval(e)}))}catch(t){}}}}]),e}();(N=x||(x={}))[N.PROMPTED=0]="PROMPTED",N[N.ACTIVE=1]="ACTIVE",N[N.IDLE=2]="IDLE";var j=function(){function e(t){var r=this;(0,a.Z)(this,e),this.token=D(),this.registry=new Map,this.allIdle=!1,this.isLastActive=!1;var n=t.channelName;if(this.options=t,this.channel=new O(n),this.registry.set(this.token,1),t.leaderElection){this.elector=new Z(this.channel,{fallbackInterval:2e3,responseTime:100}),this.elector.waitForLeadership()}this.channel.addEventListener("message",(function(e){var t=e.data,n=t.action,i=t.token,o=t.data;switch(n){case A.REGISTER:r.registry.set(i,2);break;case A.DEREGISTER:r.registry.delete(i);break;case A.IDLE:r.idle(i);break;case A.ACTIVE:r.active(i);break;case A.PROMPT:r.prompt(i);break;case A.START:r.start(i);break;case A.RESET:r.reset(i);break;case A.ACTIVATE:r.activate(i);break;case A.PAUSE:r.pause(i);break;case A.RESUME:r.resume(i);break;case A.MESSAGE:r.options.onMessage(o)}})),this.send(A.REGISTER)}return(0,s.Z)(e,[{key:"isLeader",get:function(){if(!this.elector)throw new Error('\u274c Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}},{key:"prompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,0);var t=(0,o.Z)(this.registry.values()).every((function(e){return 0===e}));e===this.token&&this.send(A.PROMPT),t&&this.options.onPrompt()}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,2);var t=(0,o.Z)(this.registry.values()).every((function(e){return 2===e}));e===this.token&&this.send(A.IDLE),!this.allIdle&&t&&(this.allIdle=!0,this.options.onIdle())}},{key:"active",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1);var t=(0,o.Z)(this.registry.values()).some((function(e){return 1===e}));e===this.token&&this.send(A.ACTIVE),t&&this.options.onActive(),this.isLastActive=e===this.token}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(A.START):this.options.start(!0),this.isLastActive=e===this.token}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(A.RESET):this.options.reset(!0),this.isLastActive=e===this.token}},{key:"activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(A.ACTIVATE):this.options.activate(!0),this.isLastActive=e===this.token}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;e===this.token?this.send(A.PAUSE):this.options.pause(!0)}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;e===this.token?this.send(A.RESUME):this.options.resume(!0)}},{key:"message",value:function(e){try{this.channel.postMessage({action:A.MESSAGE,token:this.token,data:e})}catch(t){}}},{key:"send",value:function(e){try{this.channel.postMessage({action:e,token:this.token})}catch(t){}}},{key:"close",value:function(){this.options.leaderElection&&this.elector.close(),this.send(A.DEREGISTER),this.channel.close()}}]),e}(),U=I?document:null,G=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange","focus"];function V(e,t){var r;function n(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout((function(){e.apply(void 0,i),r=null}),t)}return n.cancel=function(){clearTimeout(r)},n}function _(e,t){var r=0;return function(){var n=(new Date).getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}var q=function(){return Date.now()},B=2147483647;function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,r=void 0===t?12e5:t,n=e.promptTimeout,i=void 0===n?0:n,u=e.promptBeforeIdle,s=void 0===u?0:u,a=e.element,c=void 0===a?U:a,l=e.events,f=void 0===l?G:l,d=e.timers,h=void 0===d?void 0:d,p=e.immediateEvents,m=void 0===p?[]:p,E=e.onPresenceChange,g=void 0===E?function(){}:E,y=e.onPrompt,w=void 0===y?function(){}:y,T=e.onIdle,b=void 0===T?function(){}:T,k=e.onActive,A=void 0===k?function(){}:k,R=e.onAction,S=void 0===R?function(){}:R,P=e.onMessage,O=void 0===P?function(){}:P,C=e.debounce,D=void 0===C?0:C,x=e.throttle,N=void 0===x?0:x,Z=e.eventsThrottle,Y=void 0===Z?200:Z,J=e.startOnMount,F=void 0===J||J,z=e.startManually,W=void 0!==z&&z,X=e.stopOnIdle,H=void 0!==X&&X,K=e.crossTab,Q=void 0!==K&&K,$=e.name,ee=void 0===$?"idle-timer":$,te=e.syncTimers,re=void 0===te?0:te,ne=e.leaderElection,ie=void 0!==ne&&ne,oe=(0,v.useRef)(q()),ue=(0,v.useRef)(q()),se=(0,v.useRef)(null),ae=(0,v.useRef)(null),ce=(0,v.useRef)(0),le=(0,v.useRef)(0),fe=(0,v.useRef)(0),de=(0,v.useRef)(0),he=(0,v.useRef)(!1),ve=(0,v.useRef)(!1),pe=(0,v.useRef)(!1),me=(0,v.useRef)(!0),Ee=(0,v.useRef)(!1),ge=(0,v.useRef)(null),ye=(0,v.useRef)(null),we=(0,v.useRef)(r),Te=(0,v.useRef)(0);(0,v.useEffect)((function(){if(i&&console.warn("\u26a0\ufe0f IdleTimer -- The `promptTimeout` property has been deprecated in favor of `promptBeforeIdle`. It will be removed in the next major release."),s&&i)throw new Error("\u274c Both promptTimeout and promptBeforeIdle can not be set. The promptTimeout property will be deprecated in a future version.");if(r>=B)throw new Error("\u274c The value for the timeout property must fit in a 32 bit signed integer, ".concat(B,"."));if(i>=B)throw new Error("\u274c The value for the promptTimeout property must fit in a 32 bit signed integer, ".concat(B,"."));if(s>=B)throw new Error("\u274c The value for the promptBeforeIdle property must fit in a 32 bit signed integer, ".concat(B,"."));if(s>=r)throw new Error("\u274c The value for the promptBeforeIdle property must be less than the timeout property, ".concat(r,"."));if(s?(we.current=r-s,Te.current=s):(we.current=r,Te.current=i),!me.current){if(W)return;he.current&&(Se.current(null,lt),ye.current&&ye.current.active()),Ye()}}),[r,i,s,W]);var be=(0,v.useRef)(H);(0,v.useEffect)((function(){be.current=H}),[H]);var ke=(0,v.useRef)(m),Ie=(0,v.useRef)(c),Le=(0,v.useRef)((0,o.Z)(new Set([].concat((0,o.Z)(f),(0,o.Z)(m))).values())),Me=(0,v.useRef)(g);(0,v.useEffect)((function(){Me.current=g}),[g]);var Ae=(0,v.useRef)(w);(0,v.useEffect)((function(){Ae.current=w}),[w]);var Re=(0,v.useRef)(b);(0,v.useEffect)((function(){Re.current=b}),[b]);var Se=(0,v.useRef)(A);(0,v.useEffect)((function(){Se.current=A}),[A]);var Pe=(0,v.useRef)(S);(0,v.useEffect)((function(){Pe.current=S}),[S]);var Oe=(0,v.useRef)(O);(0,v.useEffect)((function(){Oe.current=O}),[O]);var Ce=(0,v.useMemo)((function(){var e=function(e,t){return Pe.current(e,t)};return D>0?V(e,D):N>0?_(e,N):e}),[N,D]),De=(0,v.useRef)();(0,v.useEffect)((function(){Q&&re&&(De.current=_((function(){ye.current.active()}),re))}),[Q,re]);var xe=function(){null!==ge.current&&(L.clearTimeout(ge.current),ge.current=null)},Ne=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xe(),ge.current=L.setTimeout(Ge,e||we.current),t&&(ae.current=q())},Ze=function(e){!ve.current&&!he.current&&(Ae.current(e,lt),Me.current({type:"active",prompted:!0},lt)),de.current=0,fe.current=q(),ve.current=!0,Ne(Te.current,!1)},je=function(){xe(),he.current||(Re.current(null,lt),Me.current({type:"idle"},lt)),he.current=!0,se.current=q(),be.current?Be():ve.current&&(fe.current=0,ve.current=!1)},Ue=function(e){xe(),(he.current||ve.current)&&(Se.current(e,lt),Me.current({type:"active",prompted:!1},lt)),ve.current=!1,fe.current=0,he.current=!1,ce.current+=q()-se.current,le.current+=q()-se.current,qe(),Ne()},Ge=function(e){if(!he.current){Ce.cancel&&Ce.cancel();var t=q()-ae.current;return we.current+Te.current<t||!(Te.current>0)||ve.current?void(ye.current?ye.current.idle():je()):void(ye.current?ye.current.prompt():Ze(e))}ye.current?ye.current.active():Ue(e)},Ve=function(e){if(!F&&!ae.current&&(ae.current=q(),Se.current(null,lt)),Ce(e,lt),!ve.current)if(xe(),he.current||!ke.current.includes(e.type)){var t=q()-ae.current;he.current&&!H||!he.current&&t>=we.current?Ge(e):(pe.current=!1,de.current=0,fe.current=0,Ne(),Q&&re&&De.current())}else Ge(e)},_e=(0,v.useRef)(Ve);(0,v.useEffect)((function(){var e=Ee.current;e&&Be(),_e.current=Y>0?_(Ve,Y):Ve,e&&qe()}),[Y,N,D,Pe,Q,re]);var qe=function(){!I||!Ie.current||Ee.current||(Le.current.forEach((function(e){Ie.current.addEventListener(e,_e.current,{capture:!0,passive:!0})})),Ee.current=!0)},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!I||!Ie.current||(Ee.current||e)&&(Le.current.forEach((function(e){Ie.current.removeEventListener(e,_e.current,{capture:!0})})),Ee.current=!1)},Ye=(0,v.useCallback)((function(e){xe(),qe(),he.current=!1,ve.current=!1,pe.current=!1,de.current=0,fe.current=0,ye.current&&!e&&ye.current.start(),Ne()}),[ge,he,we,ye]),Je=(0,v.useCallback)((function(e){xe(),qe(),ue.current=q(),ce.current+=q()-se.current,le.current+=q()-se.current,ce.current=0,he.current=!1,ve.current=!1,pe.current=!1,de.current=0,fe.current=0,ye.current&&!e&&ye.current.reset(),W||Ne()}),[ge,he,we,W,ye]),Fe=(0,v.useCallback)((function(e){xe(),qe(),(he.current||ve.current)&&Ue(),he.current=!1,ve.current=!1,pe.current=!1,de.current=0,fe.current=0,ue.current=q(),ye.current&&!e&&ye.current.activate(),Ne()}),[ge,he,ve,we,ye]),ze=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!pe.current&&(de.current=tt(),pe.current=!0,Be(),xe(),ye.current&&!e&&ye.current.pause(),!0)}),[ge,ye]),We=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!pe.current&&(pe.current=!1,ve.current||qe(),he.current||Ne(de.current),fe.current&&(fe.current=q()),ye.current&&!e&&ye.current.resume(),!0)}),[ge,we,de,ye]),Xe=(0,v.useCallback)((function(e,t){ye.current?(t&&Oe.current(e,lt),ye.current.message(e)):t&&Oe.current(e,lt)}),[O]),He=(0,v.useCallback)((function(){return he.current}),[he]),Ke=(0,v.useCallback)((function(){return ve.current}),[ve]),Qe=(0,v.useCallback)((function(){return ye.current?ye.current.isLeader:null}),[ye]),$e=(0,v.useCallback)((function(){return ye.current?ye.current.isLastActive:null}),[ye]),et=(0,v.useCallback)((function(){return ye.current?ye.current.token:null}),[ye]),tt=(0,v.useCallback)((function(){if(pe.current)return de.current;var e=de.current?de.current:Te.current+we.current,t=ae.current?q()-ae.current:0,r=Math.floor(e-t);return r<0?0:Math.abs(r)}),[we,Te,ve,de,ae]),rt=(0,v.useCallback)((function(){return Math.round(q()-ue.current)}),[ue]),nt=(0,v.useCallback)((function(){return Math.round(q()-oe.current)}),[oe]),it=(0,v.useCallback)((function(){return se.current?new Date(se.current):null}),[se]),ot=(0,v.useCallback)((function(){return ae.current?new Date(ae.current):null}),[ae]),ut=(0,v.useCallback)((function(){return he.current?Math.round(q()-se.current+ce.current):Math.round(ce.current)}),[se,ce]),st=(0,v.useCallback)((function(){return he.current?Math.round(q()-se.current+le.current):Math.round(le.current)}),[se,le]),at=(0,v.useCallback)((function(){var e=Math.round(rt()-ut());return e>=0?e:0}),[se,ce]),ct=(0,v.useCallback)((function(){var e=Math.round(nt()-st());return e>=0?e:0}),[se,ce]);(0,v.useEffect)((function(){if(D>0&&N>0)throw new Error("\u274c onAction can either be throttled or debounced, not both.");h&&M(h);var e=function(){ye.current&&ye.current.close(),Ce.cancel&&Ce.cancel(),xe(),Be(!0)};return I&&window.addEventListener("beforeunload",e),function(){I&&window.removeEventListener("beforeunload",e),ye.current&&ye.current.close(),Ce.cancel&&Ce.cancel(),xe(),Be(!0)}}),[]),(0,v.useEffect)((function(){ye.current&&ye.current.close(),ye.current=Q?new j({channelName:ee,leaderElection:ie,onPrompt:function(){Ze()},onIdle:function(){je()},onActive:function(){Ue()},onMessage:function(e){Oe.current(e,lt)},start:Ye,reset:Je,activate:Fe,pause:ze,resume:We}):null}),[Q,ee,ie,Ae,Re,Se,Oe,Ye,Je,ze,We]),(0,v.useEffect)((function(){me.current||(xe(),Be(!0)),!W&&(F?Ye():qe())}),[W,F,me]),(0,v.useEffect)((function(){if(!me.current){var e=(0,o.Z)(new Set([].concat((0,o.Z)(f),(0,o.Z)(m))).values());if(Be(),Le.current=e,Ie.current=c,ke.current=m,W)return;F?Ye():qe()}}),[c,JSON.stringify(f),JSON.stringify(m),me,W,F]),(0,v.useEffect)((function(){me.current&&(me.current=!1)}),[me]);var lt={message:Xe,start:Ye,reset:Je,activate:Fe,pause:ze,resume:We,isIdle:He,isPrompted:Ke,isLeader:Qe,isLastActiveTab:$e,getTabId:et,getRemainingTime:tt,getElapsedTime:rt,getTotalElapsedTime:nt,getLastIdleTime:it,getLastActiveTime:ot,getIdleTime:ut,getTotalIdleTime:st,getActiveTime:at,getTotalActiveTime:ct,setOnPresenceChange:function(e){g=e,Me.current=e},setOnPrompt:function(e){w=e,Ae.current=e},setOnIdle:function(e){b=e,Re.current=e},setOnActive:function(e){A=e,Se.current=e},setOnAction:function(e){S=e,Pe.current=e},setOnMessage:function(e){O=e,Oe.current=e}};return lt}var J=(0,v.createContext)(null);J.Consumer},5861:function(e,t,r){function n(e,t,r,n,i,o,u){try{var s=e[o](u),a=s.value}catch(c){return void r(c)}s.done?t(a):Promise.resolve(a).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var u=e.apply(t,r);function s(e){n(u,i,o,s,a,"next",e)}function a(e){n(u,i,o,s,a,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,{Z:function(){return n}})}}]);